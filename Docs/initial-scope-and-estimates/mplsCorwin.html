<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2019-12-25 Wed 08:37 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>&lrm;</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Corwin Brust" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2018 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org2d4a467">1. Corwin's Dungeon</a></li>
<li><a href="#org690dc46">2. SYNOPSIS</a></li>
<li><a href="#org38b67e9">3. Initial Estimations</a>
<ul>
<li><a href="#org406ee76">3.1. Interface Development</a>
<ul>
<li><a href="#orgf1595e9">3.1.1. Task Detail</a></li>
</ul>
</li>
<li><a href="#orgceb2e8e">3.2. Analysis</a>
<ul>
<li><a href="#org962fcbd">3.2.1. Recommendation: Rendering non-text content</a></li>
</ul>
</li>
<li><a href="#orgd802f33">3.3. <span class="todo TODO">TODO</span> Manual Data Entry</a></li>
</ul>
</li>
<li><a href="#orgfa23eb5">4. Quick Notes on Data</a></li>
</ul>
</div>
</div>
<div id="outline-container-org2d4a467" class="outline-2">
<h2 id="org2d4a467"><span class="section-number-2">1</span> Corwin's Dungeon</h2>
<div class="outline-text-2" id="text-1">
<p>
This is my personal notes file for dungeon-mode.  Below are the
directions for the initial sprints of the project.  The remainder of
the document forms my contribution as toward delivering on that.
</p>

<blockquote>
<ol class="org-ol">
<li>(Dec 22 - Jan 5th) High Level Effort Guesstimation for both
Interface Development and Manual Authoring.  Task lists and
estimates to this channel whenever and feel free to revise and
extend your remarks.  For extra credit, download GNU Emacs (I like
Emax64 26.2 or 26.3 for Windows 10) and try making your notes using
org mode.</li>

<li>(Jan. 5th - Jan 19th) User journey and user story creation.  What
are the key user and system interactions?  What orders may they
occur in?  How may this map to our interfaces (e.g. major and minor
modes)?  What tasks are needed to deliver that functionality and
how long might all that take?  Finally, considering both of the
first two sprints, what items are "above the line" in the sense
they should be assumed to be required to complete a minimum
testable product.  For extra credit in sprint two make org mode
sort tasks based on priority (and dependencies?) and sum cost
(time)</li>
</ol>
</blockquote>
</div>
</div>

<div id="outline-container-org690dc46" class="outline-2">
<h2 id="org690dc46"><span class="section-number-2">2</span> SYNOPSIS</h2>
<div class="outline-text-2" id="text-2">
<p>
My most current dungeon lives principally within a Google Docs
spreadsheet, and should be fairly straight forward to convert to elisp
statements.  Deeper in the document I provide some design detail from
spreadsheet in as much as this may suggest the key files or macros or
whatever.
</p>

<p>
From a UI design perspective my focus, in terms of an initial MPTP for
the first use-case, is getting a comfortable and familiar sense of
graph paper and pencil, maybe high-lighter and felt-tipped markers.
</p>

<p>
In the remaining sections I'll rationalize these motivations further
as then relate to key development tasks I think could factor into an
Minimum Play-Testable Product (MPTP).
</p>
</div>
</div>

<div id="outline-container-org38b67e9" class="outline-2">
<h2 id="org38b67e9"><span class="section-number-2">3</span> Initial Estimations</h2>
<div class="outline-text-2" id="text-3">
<p>
The section currently only contains information responding to sprint 1
e.g. user interface development and the manual authoring of content.
</p>
</div>

<div id="outline-container-org406ee76" class="outline-3">
<h3 id="org406ee76"><span class="section-number-3">3.1</span> Interface Development</h3>
<div class="outline-text-3" id="text-3-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-right" />
</colgroup>
<tbody>
<tr>
<td class="org-left">Tags</td>
<td class="org-right">Points</td>
</tr>

<tr>
<td class="org-left">dungeon-mode</td>
<td class="org-right">20</td>
</tr>

<tr>
<td class="org-left">battle-board</td>
<td class="org-right">10</td>
</tr>

<tr>
<td class="org-left">baddie-board</td>
<td class="org-right">5</td>
</tr>

<tr>
<td class="org-left">map-mode</td>
<td class="org-right">20</td>
</tr>

<tr>
<td class="org-left">treasure-mode</td>
<td class="org-right">10</td>
</tr>

<tr>
<td class="org-left">character-mode</td>
<td class="org-right">20</td>
</tr>

<tr>
<td class="org-left">tables-mode</td>
<td class="org-right">10</td>
</tr>

<tr>
<td class="org-left">decent-mode</td>
<td class="org-right">5</td>
</tr>

<tr>
<td class="org-left">dungeon-master-mode</td>
<td class="org-right">20</td>
</tr>

<tr>
<td class="org-left">journal-mode</td>
<td class="org-right">16</td>
</tr>
</tbody>
</table>

<p>
The remainder of the section forms initial task objective generally in
the vein of user stories and any recomendations, analysis and notes
which contributed..
</p>
</div>

<div id="outline-container-orgf1595e9" class="outline-4">
<h4 id="orgf1595e9"><span class="section-number-4">3.1.1</span> Task Detail</h4>
<div class="outline-text-4" id="text-3-1-1">
</div>
<ol class="org-ol">
<li><a id="org8b0ab06"></a>Create dungeon-mode (20 points)<br />
<div class="outline-text-5" id="text-3-1-1-1">
<blockquote>
<p>
Oversee file interactions in terms of elisp expresisons. Use a queue
and timer to insulate the command processing function.  This package
will not perform the file operations so this task must leap-frog or
otherwise coordinate within initial development of 'dm-journal-mode'.
</p>
</blockquote>
</div>
</li>

<li><a id="org08455d4"></a>Create dm-journal-mode (20 points)<br />
<div class="outline-text-5" id="text-3-1-1-2">
<blockquote>
<p>
Create basic file-system interaction functions, (1) create an empty
file associated to a given symbol, (2) given a symbol return file
content, (4) read a file an index the symbols defined, (5) given a
symbol return the file or file part where it is defined.
</p>
</blockquote>
</div>
</li>

<li><a id="org3a26e9b"></a>Create dm-battle-board (20 points)<br />
<div class="outline-text-5" id="text-3-1-1-3">
<blockquote>
<p>
Draw a party in terms of position and attributes. (body-hits, &#x2026;)
Provide a frame-work for font (e.g. ASCII, Unicode, &#x2026;) based
beautification.  Make decorative content read-only.
</p>
</blockquote>
</div>
</li>

<li><a id="orgaea2244"></a>Create dm-baddie-board (5 points)<br />
<div class="outline-text-5" id="text-3-1-1-4">
<blockquote>
<p>
Display baddies as viewed by the party or DM, e.g maybe no or limited
health info per party's current view.  It is fine to use hard-coded
data if the REPL is not available.
</p>
</blockquote>
</div>
</li>

<li><a id="orgb974fb1"></a>Create dm-map-mode (20 points)<br />
<div class="outline-text-5" id="text-3-1-1-5">
<blockquote>
<p>
Display a map with a general store, corridor, and chambers behind
secret doors and super-impose it over the data representation. Key
constants may be hard-coded or implemented as vars however drawing
must occur on-demand, must replace any existing image, and must
include calculations of scale, a sizing factor from 0-4 which may be
hard coded to 1 (100%) for the time-being.
</p>
</blockquote>
</div>
</li>

<li><a id="orgafc54ca"></a>Create dm-treasure-mode (10 points)<br />
<div class="outline-text-5" id="text-3-1-1-6">
<blockquote>
<p>
Display the treasure categories, including unresolved or undistributed
treasure.  Provide functions and key-map with bindings to (1)
increment and (2) decrement numeric counters, (3) add or (4) remove an
item from a list column, and to (5, 6) DWIM at point category at
point.  It is helpful but not required to select key bindings
thoughtfully at this stage in development.
</p>
</blockquote>
</div>
</li>

<li><a id="org7c9a00c"></a>Create dm-tables-mode (10 points)<br />
<div class="outline-text-5" id="text-3-1-1-7">
<blockquote>
<p>
Display a sample of any of the common DM tables, e.g. spells.  Use
hard-coded data if the REPL isn't ready.  Support basic cell-wise
cursor movement with arrow keys.  Highlight the cell under point.  It
is not required (but helpful) to include restriction of point to
appropriate (interactive) spaces within the buffer.
</p>
</blockquote>
</div>
</li>

<li><a id="orgea7da15"></a>Create dm-character-mode (20 points<br />
<div class="outline-text-5" id="text-3-1-1-8">
<blockquote>
<p>
Display a character sheet.  Implement a reasonably well considered
UI. Provide a key-map with minimal bindings for movement between
sections.
</p>
</blockquote>
</div>
</li>

<li><a id="orgb46bef7"></a>dm-decent-mode (5 points)<br />
<div class="outline-text-5" id="text-3-1-1-9">
<blockquote>
<p>
Display a dired like interface of buffers important to dungeon-mode.
</p>
</blockquote>
</div>
</li>

<li><a id="orge44abc8"></a>dm-dungeon-master-mode (20 points)<br />
<div class="outline-text-5" id="text-3-1-1-10">
<blockquote>
<p>
Prototype composite interface two working minor modes and the REPL.
Note, while the REPL must be at least semi-functional to complete this
task this will also provide a POC for dm-battle-board-mode proposed
approach.
</p>
</blockquote>
</div>
</li>
</ol>
</div>
</div>

<div id="outline-container-orgceb2e8e" class="outline-3">
<h3 id="orgceb2e8e"><span class="section-number-3">3.2</span> Analysis</h3>
<div class="outline-text-3" id="text-3-2">
<p>
Let's face-it.  The user-interface is important.  Not just to
attracting others (whether to play, create, or contribute) but
enjoyment of the game even for the most die-hard of us.  Okay.  Maybe
not all.
</p>

<p>
Considering Emacs as the host environment for the game engine;
however, may force (or strongly compel) some potentially key design
decisions up front which otherwise it might make sense to wait for the
stability of an optimization phase to address.  This is because
Emacs's facilities for interacting with the display manager (for such
tasks as updating the display) are, while powerful, quite intrinsic to
Emacs and for the most part we should probably not abstract them away.
</p>

<p>
For example, Emacs's system of character properties allows a feature
(e.g. dungeon-mode) to mark individual characters and regions within a
buffer with additional properties that provide feature specific
information, usually display hints.  Which installing functions there
that will make case by case decisions about display rendering is, I
think, normal, it would probably be a bad idea to e.g.: have an
`dm-properties-manager' that attempts to control all of the properties
installed across all of a given buffer as this might break core Emacs
features and would likely also impact rendering performance
meaningfully.
</p>
</div>

<div id="outline-container-org962fcbd" class="outline-4">
<h4 id="org962fcbd"><span class="section-number-4">3.2.1</span> Recommendation: Rendering non-text content</h4>
<div class="outline-text-4" id="text-3-2-1">
<p>
In particular, a key decision along these lines is how to render out
things like maps or the grids forming battle-boards, spellball-like
inventory, and the rest.  Because our needs are modest by game design
standards &#x2013;if not by those of typical Emacs Lisp projects&#x2013; we have
lots of options.
</p>
<ul class="org-ul">
<li><p>
ASCII art
</p>
<ul class="org-ul">
<li>Sense of Style: nethack</li>
<li>Most obvious pro: easy</li>
<li>Most obvious con: seems limited</li>
</ul>
<p>
I suspect this could be somewhat trivial to implement using text
 properties.  Moreover, it adds no assets to our deliverable
 (e.g. jpg, ttf, etc. dungeon mode would require or distribute and
 maintain).  That said it pretty much puts the visual aspects of the
 game into a small box, at least in so far as concerns native
 game-play within Emacs. Furthermore, if other design decisions have
 followed from and rely on this one, it may not be easy to bolt
 support for more sophisticated graphics display in-line onto the
 original modes.  This concern, of course is universal to any option
 (and to most design decisions) however it's most significant when
 considering an alternative with clear performance, scalability, or
 stylist limitations.
</p></li>
<li><p>
Custom Fonts and Unicode
</p>
<ul class="org-ul">
<li>Sense of Style: loadrunner</li>
<li>Most obvious pro: easy</li>
<li>Most obvious con: still limited, now maybe with font files to manage</li>
</ul>
<p>
As with the next option, the limitation here will be -given we
 create or utilize custom font-files- the need to create those in
 advance and distribute them with the game, provide details for
 collecting them from third parties, etc.  That said, this is
 probably otherwise the rough level of effort as the ASCII option.
</p></li>
<li><p>
Tile packs
</p>
<ul class="org-ul">
<li>Sense of Style: gauntlet</li>
<li>Most obvious pro: easy way to get to pretty</li>
<li>Most obvious con: limited given the effort required</li>
</ul>
<p>
This is just about as pretty as we can get to without drawing or
 rendering at the run-time.  Here we create some number of image or
 sprite assets, most likely authoring them in-line with the game.
 As with the above options we are limited during game design and
 play to the visual presentations shipped with the game
 (notwithstanding you are presumably free to create your own).
</p></li>
<li><p>
Real-time display painting
</p>
<ul class="org-ul">
<li>Sense of Style: sheet of graph paper with felt-tip and pencil marks</li>
<li>Most obvious pro: we control the horizontal</li>
<li>Most obvious con: we might invent something</li>
</ul>
<p>
As assumed in all the solutions we use likely use text properties to
 attach images (or ASCII art) however in this case rather than
 static images or image regions (e.g. of sprites) these properties
 point to functions which draw visual representations to overlay the
 raw information in the buffer on demand.  Emacs provides native SVG
 commands, for example, which could be used to draw the stokes of
 the battle-board, etc., with other elements perhaps layered using
 z-index.
</p></li>
</ul>

<p>
At the moment my leaning is toward the final option.  While it forces
some amount of close work to the front of the project this comes with
more advantages than disadvantages:
</p>
<ul class="org-ul">
<li>Biggest Pros:
<ul class="org-ul">
<li>supports all the other options, functions can just return ACII or
return an existing image/slice rather than drawing.</li>
<li>only option that presents an interface people might install Emacs
to use.</li>
</ul></li>
<li>Biggest Cons:
<ul class="org-ul">
<li>more upfront effort, at least vs ASCII or Unicode</li>
<li>puts upfront need on chucking out elisp vs create images whereas
we currently have more artistic than programming skill represented
in the project team.</li>
</ul></li>
</ul>

<p>
Text and tile approaches all eventually back us into the corner of
needing to know at game development time (or maybe dungeon-mode
publication time) what display options will be possable.  Let's turn
Emacs into a fantastic looking thick client for RPGs that embraces
rather than tries to escape their heritage of graph-paper and
tally-marks.
</p>

<p>
Discussing these ideas we've settled on this plan for the MPTP:
</p>
<ul class="org-ul">
<li>map-mode overlay map code with SVG strokes, shapes, et. al.</li>
<li>battle-board and most if not all others use font-locked text</li>
</ul>

<p>
I did a little poking around following the above decision and didn't
find any obvious means to put images under text that we still want the
user to be able to work with in the buffer.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8B8989; font-style: italic;">;; </span><span style="color: #8B8989; font-style: italic;">put some blank lines atop and emacs lisp scrach buffer</span>
<span style="color: #8B8989; font-style: italic;">;; </span><span style="color: #8B8989; font-style: italic;">then see if you can get editable text into the circle</span>
<span style="color: #8b0000;">(</span><span style="color: #4c83ff;">let</span> <span style="color: #006400;">(</span><span style="color: #ff1493;">(</span>svg <span style="color: #ffff00;">(</span>svg-create 400 400 <span style="color: #4c83ff;">:stroke-width</span> 10<span style="color: #ffff00;">)</span><span style="color: #ff1493;">)</span><span style="color: #006400;">)</span>
       <span style="color: #006400;">(</span>svg-circle svg 200 200 100 <span style="color: #4c83ff;">:stroke-color</span> <span style="color: #61CE3C;">"green"</span><span style="color: #006400;">)</span>
       <span style="color: #006400;">(</span>put-image <span style="color: #ff1493;">(</span>svg-image svg<span style="color: #ff1493;">)</span> 0<span style="color: #006400;">)</span>
       <span style="color: #8B8989; font-style: italic;">;;</span><span style="color: #8B8989; font-style: italic;">(remove-images 0 2000)</span>
       <span style="color: #8b0000;">)</span>
</pre>
</div>
<p>
Per TFM `put-image' is using an overlay added to a begin-text
attribute of an overlay added into the text,  to contain the image.
This means that it's prepended to -but does not obscure- the text.
</p>
</div>
</div>
</div>

<div id="outline-container-orgd802f33" class="outline-3">
<h3 id="orgd802f33"><span class="section-number-3">3.3</span> <span class="todo TODO">TODO</span> Manual Data Entry</h3>
<div class="outline-text-3" id="text-3-3">
<p>
Create some notes on the potential approaches key tasks and respective
LoE by early January, 2020.
</p>
</div>
</div>
</div>

<div id="outline-container-orgfa23eb5" class="outline-2">
<h2 id="orgfa23eb5"><span class="section-number-2">4</span> Quick Notes on Data</h2>
<div class="outline-text-2" id="text-4">
<p>
We might be able to map key dungeon concepts to Emacs Lisp grouping
syntax if we select our abstractions carefully:
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">dm abstract</td>
<td class="org-left">grouped by</td>
<td class="org-left">wut?</td>
</tr>

<tr>
<td class="org-left">table</td>
<td class="org-left">() list</td>
<td class="org-left">wrap a victual or baddie table</td>
</tr>

<tr>
<td class="org-left">map</td>
<td class="org-left">[] vector</td>
<td class="org-left">map are a list of these</td>
</tr>

<tr>
<td class="org-left">(me . mine)</td>
<td class="org-left">( . ) alist</td>
<td class="org-left">name something for later use</td>
</tr>

<tr>
<td class="org-left">anything</td>
<td class="org-left">'</td>
<td class="org-left">quote operate to include by ref</td>
</tr>
</tbody>
</table>

<p>
Table cells are just lists of sexp referencing or defining stuff. The
expressions should result in a literal or a quoted expression.  If an
expression, it is to be resolved when the action token is in scope
(e.g. at play-time) such that the REPL can be queried for information,
e.g. about the character acting (if any), party, etc.  The result of
loading an individual table is a symbol containing references and
expressions which compose one particular aspect of the game, say
Spells e.g. treasure for wizards, which in combination with the
definition statement for the spells table, provides enough information
to resolve the event (notwithstanding dm-interactive and
dm-interactable).
</p>

<p>
Inside map cells go the relationships to other map-cells and features
such as secret doors.  As discussed elsewhere these can likely be
similar to text or overlay properties but are ultimately probably
stored as plain data (e.g. the text description of the space, if any)
with properties which contain any custom behaviour written for the
map.
</p>

<p>
For general use items, for example items that could appear on more
than one treasure table, we can use a-lists to create lists.  By
allowing an expression as both car and cadr we can potentially use
this as the basis for key REPL statements such as update-table.
</p>

<p>
Generally speaking things will resolve down to named symbols that
identify them based on label's provided by the DM or by the REPL on
behalf of players.  This maybe makes adding important creature
comforts like code-completion and font-lock easier to support.
</p>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Corwin Brust</p>
<p class="date">Created: 2019-12-25 Wed 08:37</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
