<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="552px" preserveAspectRatio="none" style="width:538px;height:552px;" version="1.1" viewBox="0 0 538 552" width="538px" zoomAndPan="magnify"><defs><filter height="300%" id="f1aj9d3n05eddt" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="116" x="210" y="28.6855">Resolve Paths</text><path d="M10,32.6406 L10,76.5879 A0,0 0 0 0 10,76.5879 L319,76.5879 A0,0 0 0 0 319,76.5879 L319,58.6143 L339,54.6143 L319,50.6143 L319,42.6406 L309,32.6406 L10,32.6406 A0,0 0 0 0 10,32.6406 " fill="#FBFB77" filter="url(#f1aj9d3n05eddt)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M309,32.6406 L309,42.6406 L319,42.6406 L309,32.6406 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="48" x="16" y="50.7104">letÂ ((</text><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="64" y="50.7104">path</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="200" x="104" y="50.7104">(gethashÂ target-map-pos))</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="64" y="67.6841"/><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="64" x="64" y="67.6841">features</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="128" y="67.6841">)</text><ellipse cx="349" cy="54.6143" fill="#FEFECE" filter="url(#f1aj9d3n05eddt)" rx="10" ry="10" style="stroke: #A80036; stroke-width: 1.5;"/><path d="M347.7656,59.1143 L346.7813,59.1143 L346.7813,50.5205 L347.8438,50.5205 L347.8438,53.583 Q348.5156,52.7549 349.5469,52.7549 Q350.125,52.7549 350.6328,52.9814 Q351.1406,53.208 351.4766,53.6299 Q351.8125,54.0518 352,54.6455 Q352.1875,55.2393 352.1875,55.9111 Q352.1875,57.5049 351.3906,58.3799 Q350.5938,59.2549 349.5,59.2549 Q348.3906,59.2549 347.7656,58.333 L347.7656,59.1143 Z M347.75,55.958 Q347.75,57.0674 348.0625,57.5674 Q348.5625,58.3799 349.4063,58.3799 Q350.0938,58.3799 350.6016,57.7861 Q351.1094,57.1924 351.1094,55.9893 Q351.1094,54.7705 350.625,54.1924 Q350.1406,53.6143 349.4531,53.6143 Q348.7656,53.6143 348.2578,54.2158 Q347.75,54.8174 347.75,55.958 Z "/><rect fill="#FFFFFF" filter="url(#f1aj9d3n05eddt)" height="357.6455" style="stroke: #000000; stroke-width: 2.0;" width="374" x="153" y="87.1641"/><path d="M249,88.1641 L249,97.7734 L239,107.7734 L153,107.7734 " fill="none" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="86" x="156" y="102.6973">resolve-paths</text><rect fill="#FEFECE" filter="url(#f1aj9d3n05eddt)" height="35.0938" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="174" x="262" y="181.6924"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="154" x="272" y="204.1494">Get symbol-path from cache</text><rect fill="#FEFECE" filter="url(#f1aj9d3n05eddt)" height="35.0938" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="276" x="211" y="298.6221"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="256" x="221" y="321.0791">setq symbol-path (resolve-paths inner-symbol)</text><polygon fill="#FEFECE" filter="url(#f1aj9d3n05eddt)" points="262,236.7861,436,236.7861,448,248.7861,436,260.7861,262,260.7861,250,248.7861,262,236.7861" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="3" x="353" y="272.2051">t</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="174" x="262" y="253.2871">symbol-path contains inner-symbol?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="10" x="240" y="246.3691">nil</text><rect fill="#FEFECE" filter="url(#f1aj9d3n05eddt)" height="35.0938" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="194" x="252" y="375.7158"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="174" x="262" y="398.1729">add-to-list features symbol-path</text><polygon fill="#FEFECE" filter="url(#f1aj9d3n05eddt)" points="295,124.7734,403,124.7734,415,136.7734,403,148.7734,295,148.7734,283,136.7734,295,124.7734" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="3" x="353" y="160.1924">t</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="108" x="295" y="141.2744">path contains symbol?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="10" x="273" y="134.3564">nil</text><rect fill="#FEFECE" filter="url(#f1aj9d3n05eddt)" height="35.0938" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="141" x="278.5" y="464.8096"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="121" x="288.5" y="487.2666">return (path . features)</text><ellipse cx="349" cy="530.9033" fill="#FFFFFF" filter="url(#f1aj9d3n05eddt)" rx="11" ry="11" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="349" cy="530.9033" fill="#000000" rx="6" ry="6" style="stroke: #7F7F7F; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="349" x2="349" y1="260.7861" y2="298.6221"/><polygon fill="#A80036" points="345,288.6221,349,298.6221,353,288.6221,349,292.6221" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="349" x2="349" y1="333.7158" y2="343.7158"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="349" x2="499" y1="343.7158" y2="343.7158"/><polygon fill="#A80036" points="495,307.251,499,297.251,503,307.251,499,303.251" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="499" x2="499" y1="248.7861" y2="343.7158"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="499" x2="448" y1="248.7861" y2="248.7861"/><polygon fill="#A80036" points="458,244.7861,448,248.7861,458,252.7861,454,248.7861" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="250" x2="199" y1="248.7861" y2="248.7861"/><polygon fill="#A80036" points="195,293.251,199,303.251,203,293.251,199,297.251" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="199" x2="199" y1="248.7861" y2="355.7158"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="199" x2="349" y1="355.7158" y2="355.7158"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="349" x2="349" y1="355.7158" y2="375.7158"/><polygon fill="#A80036" points="345,365.7158,349,375.7158,353,365.7158,349,369.7158" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="349" x2="349" y1="216.7861" y2="236.7861"/><polygon fill="#A80036" points="345,226.7861,349,236.7861,353,226.7861,349,230.7861" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="349" x2="349" y1="148.7734" y2="181.6924"/><polygon fill="#A80036" points="345,171.6924,349,181.6924,353,171.6924,349,175.6924" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="349" x2="349" y1="410.8096" y2="420.8096"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="349" x2="511" y1="420.8096" y2="420.8096"/><polygon fill="#A80036" points="507,288.333,511,278.333,515,288.333,511,284.333" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="511" x2="511" y1="136.7734" y2="420.8096"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="511" x2="415" y1="136.7734" y2="136.7734"/><polygon fill="#A80036" points="425,132.7734,415,136.7734,425,140.7734,421,136.7734" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="283" x2="175" y1="136.7734" y2="136.7734"/><polygon fill="#A80036" points="171,274.333,175,284.333,179,274.333,175,278.333" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="175" x2="175" y1="136.7734" y2="432.8096"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="175" x2="349" y1="432.8096" y2="432.8096"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="349" x2="349" y1="432.8096" y2="464.8096"/><polygon fill="#A80036" points="345,454.8096,349,464.8096,353,454.8096,349,458.8096" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="349" x2="349" y1="64.6143" y2="124.7734"/><polygon fill="#A80036" points="345,114.7734,349,124.7734,353,114.7734,349,118.7734" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="349" x2="349" y1="499.9033" y2="519.9033"/><polygon fill="#A80036" points="345,509.9033,349,519.9033,353,509.9033,349,513.9033" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[0a0afc39eed11dea3a6b8d1e21eff587]
@startuml
title Resolve Paths
  (b)
   note left
  ""let ((**path** (gethash target-map-pos))""
  ""      **features**)""
  end note

  partition resolve-paths {
    while (path contains symbol?) is (t)
      :Get symbol-path from cache;
      while (symbol-path contains inner-symbol?) is (t)
        :setq symbol-path (resolve-paths inner-symbol);
      endwhile (nil)
      :add-to-list features symbol-path;
    endwhile (nil)
  }
:return (path . features);
stop
@enduml

PlantUML version 1.2020.00(Sat Jan 11 06:30:53 CST 2020)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) Client VM
Java Version: 1.8.0_241-b07
Operating System: Windows 10
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>